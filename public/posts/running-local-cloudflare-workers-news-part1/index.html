<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Running Local Cloudflare Workers to Gather News Information - Part 1 | Just a Guy, from Kenya</title>
<meta name=keywords content="cloudflare,workers,web scraping,typescript,serverless"><meta name=description content="Introduction to Cloudflare Workers
Cloudflare Workers represent a paradigm shift in how we build and deploy applications on the web. Unlike traditional server-based applications, Cloudflare Workers run on Cloudflare&rsquo;s edge network, meaning they execute closer to your users and provide impressive performance benefits.
Key advantages of Cloudflare Workers include:

Edge Execution: Code runs on Cloudflare&rsquo;s global network, reducing latency
Serverless Architecture: No servers to manage or scale
Cost-Effective: Pay only for what you use with generous free tier
JavaScript/TypeScript Native: Write in familiar languages
Powerful API Access: Built-in fetch, KV storage, and more

In this series, I&rsquo;ll walk through how I built a Cloudflare Worker that collects news articles from Nation Africa (https://nation.africa) for personal use, and how you might adapt this approach for other sites."><meta name=author content><link rel=canonical href=https://www.guyfromtheke.com/posts/running-local-cloudflare-workers-news-part1/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://www.guyfromtheke.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.guyfromtheke.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.guyfromtheke.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.guyfromtheke.com/apple-touch-icon.png><link rel=mask-icon href=https://www.guyfromtheke.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.guyfromtheke.com/posts/running-local-cloudflare-workers-news-part1/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://www.guyfromtheke.com/posts/running-local-cloudflare-workers-news-part1/"><meta property="og:site_name" content="Just a Guy, from Kenya"><meta property="og:title" content="Running Local Cloudflare Workers to Gather News Information - Part 1"><meta property="og:description" content="Introduction to Cloudflare Workers Cloudflare Workers represent a paradigm shift in how we build and deploy applications on the web. Unlike traditional server-based applications, Cloudflare Workers run on Cloudflare’s edge network, meaning they execute closer to your users and provide impressive performance benefits.
Key advantages of Cloudflare Workers include:
Edge Execution: Code runs on Cloudflare’s global network, reducing latency Serverless Architecture: No servers to manage or scale Cost-Effective: Pay only for what you use with generous free tier JavaScript/TypeScript Native: Write in familiar languages Powerful API Access: Built-in fetch, KV storage, and more In this series, I’ll walk through how I built a Cloudflare Worker that collects news articles from Nation Africa (https://nation.africa) for personal use, and how you might adapt this approach for other sites."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-04-07T22:52:51+03:00"><meta property="article:modified_time" content="2025-04-07T22:52:51+03:00"><meta property="article:tag" content="Cloudflare"><meta property="article:tag" content="Workers"><meta property="article:tag" content="Web Scraping"><meta property="article:tag" content="Typescript"><meta property="article:tag" content="Serverless"><meta name=twitter:card content="summary"><meta name=twitter:title content="Running Local Cloudflare Workers to Gather News Information - Part 1"><meta name=twitter:description content="Introduction to Cloudflare Workers
Cloudflare Workers represent a paradigm shift in how we build and deploy applications on the web. Unlike traditional server-based applications, Cloudflare Workers run on Cloudflare&rsquo;s edge network, meaning they execute closer to your users and provide impressive performance benefits.
Key advantages of Cloudflare Workers include:

Edge Execution: Code runs on Cloudflare&rsquo;s global network, reducing latency
Serverless Architecture: No servers to manage or scale
Cost-Effective: Pay only for what you use with generous free tier
JavaScript/TypeScript Native: Write in familiar languages
Powerful API Access: Built-in fetch, KV storage, and more

In this series, I&rsquo;ll walk through how I built a Cloudflare Worker that collects news articles from Nation Africa (https://nation.africa) for personal use, and how you might adapt this approach for other sites."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.guyfromtheke.com/posts/"},{"@type":"ListItem","position":2,"name":"Running Local Cloudflare Workers to Gather News Information - Part 1","item":"https://www.guyfromtheke.com/posts/running-local-cloudflare-workers-news-part1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Running Local Cloudflare Workers to Gather News Information - Part 1","name":"Running Local Cloudflare Workers to Gather News Information - Part 1","description":"Introduction to Cloudflare Workers Cloudflare Workers represent a paradigm shift in how we build and deploy applications on the web. Unlike traditional server-based applications, Cloudflare Workers run on Cloudflare\u0026rsquo;s edge network, meaning they execute closer to your users and provide impressive performance benefits.\nKey advantages of Cloudflare Workers include:\nEdge Execution: Code runs on Cloudflare\u0026rsquo;s global network, reducing latency Serverless Architecture: No servers to manage or scale Cost-Effective: Pay only for what you use with generous free tier JavaScript/TypeScript Native: Write in familiar languages Powerful API Access: Built-in fetch, KV storage, and more In this series, I\u0026rsquo;ll walk through how I built a Cloudflare Worker that collects news articles from Nation Africa (https://nation.africa) for personal use, and how you might adapt this approach for other sites.\n","keywords":["cloudflare","workers","web scraping","typescript","serverless"],"articleBody":"Introduction to Cloudflare Workers Cloudflare Workers represent a paradigm shift in how we build and deploy applications on the web. Unlike traditional server-based applications, Cloudflare Workers run on Cloudflare’s edge network, meaning they execute closer to your users and provide impressive performance benefits.\nKey advantages of Cloudflare Workers include:\nEdge Execution: Code runs on Cloudflare’s global network, reducing latency Serverless Architecture: No servers to manage or scale Cost-Effective: Pay only for what you use with generous free tier JavaScript/TypeScript Native: Write in familiar languages Powerful API Access: Built-in fetch, KV storage, and more In this series, I’ll walk through how I built a Cloudflare Worker that collects news articles from Nation Africa (https://nation.africa) for personal use, and how you might adapt this approach for other sites.\nProject Overview and Goals The goal of this project was to create a reliable way to fetch recent news headlines from Nation Africa, a popular news source in Kenya. I wanted to:\nRetrieve the latest news headlines and their URLs Structure the data in a clean JSON format for downstream consumption Run the collection on a schedule (every 12 hours) Handle authentication and maintain session cookies properly Build a robust solution that can adapt to site changes This type of edge-deployed microservice is perfect for data collection tasks that don’t require heavy processing but benefit from reliability and scheduling.\nInitial Setup and Environment Configuration To get started with Cloudflare Workers, you’ll need a Cloudflare account and the Wrangler CLI tool. Here’s how I set up the project:\n1. Installing the Required Tools First, ensure you have Node.js and npm installed, then set up the project:\n# Install Wrangler CLI globally npm install -g wrangler # Create a new TypeScript Cloudflare Worker project npx create-cloudflare nation-worker-ts cd nation-worker-ts # Login to Cloudflare wrangler login 2. Project Structure The project structure created by the CLI looks like this:\nnation-worker-ts/ ├── src/ │ └── index.ts # Main worker code ├── .wrangler/ ├── node_modules/ ├── package.json ├── package-lock.json ├── tsconfig.json └── wrangler.jsonc # Worker configuration 3. Configuring wrangler.jsonc The wrangler.jsonc file is where we define the Worker’s configuration. Here’s my basic configuration:\n{ \"name\": \"nation-worker-ts\", \"main\": \"src/index.ts\", \"compatibility_date\": \"2025-04-04\", \"triggers\": { \"crons\": [\"0 */12 * * *\"] // Run every 12 hours }, \"kv_namespaces\": [ { \"binding\": \"KV\", \"id\": \"your-kv-namespace-id\", \"preview_id\": \"your-preview-kv-namespace-id\" } ] } 4. Setting Up Environment Variables For our worker to function, we need to define a few environment variables. I’ve configured these in the wrangler.jsonc file:\n{ \"vars\": { \"ADMIN_KEY\": \"your-admin-key\" } } This ADMIN_KEY will be used for authentication when refreshing cookies through the API.\n5. Setting Up KV Storage Cloudflare Workers KV is a global, low-latency key-value data store that we’ll use to store our session cookies. To create a KV namespace:\n# Create KV namespace wrangler kv:namespace create \"KV\" # This will output IDs to add to your wrangler.jsonc file Basic Worker Structure The base structure of our Cloudflare Worker includes two main entry points:\nHTTP Requests - The fetch handler processes incoming HTTP requests Scheduled Execution - The scheduled handler runs on our defined cron schedule Here’s a simplified version of our initial worker code:\nexport interface Env { KV: KVNamespace; ADMIN_KEY?: string; } export default { // Handle HTTP requests async fetch(request: Request, env: Env, ctx: ExecutionContext): Promise\u003cResponse\u003e { // Request handling code here return new Response(\"Hello World\"); }, // Handle scheduled events (cron) async scheduled(event: ScheduledEvent, env: Env, ctx: ExecutionContext): Promise\u003cvoid\u003e { console.log(\"Running scheduled task\"); // Scheduled task code here } }; Next Steps In Part 2, we’ll dive into the core implementation details:\nHow to manage session cookies for authenticated requests Techniques for fetching and parsing news articles Implementing error handling and debugging features By the end of this series, you’ll have a fully functional Cloudflare Worker that can reliably collect news articles and deliver them as structured JSON data.\n","wordCount":"643","inLanguage":"en","datePublished":"2025-04-07T22:52:51+03:00","dateModified":"2025-04-07T22:52:51+03:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.guyfromtheke.com/posts/running-local-cloudflare-workers-news-part1/"},"publisher":{"@type":"Organization","name":"Just a Guy, from Kenya","logo":{"@type":"ImageObject","url":"https://www.guyfromtheke.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.guyfromtheke.com/ accesskey=h title="Just a Guy, from Kenya (Alt + H)">Just a Guy, from Kenya</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.guyfromtheke.com/about/ title=About><span>About Me</span></a></li><li><a href=https://www.guyfromtheke.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://www.guyfromtheke.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://www.guyfromtheke.com/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://www.guyfromtheke.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.guyfromtheke.com/>Home</a>&nbsp;»&nbsp;<a href=https://www.guyfromtheke.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Running Local Cloudflare Workers to Gather News Information - Part 1</h1><div class=post-meta><span title='2025-04-07 22:52:51 +0300 EAT'>April 7, 2025</span>&nbsp;·&nbsp;4 min</div></header><div class=post-content><h2 id=introduction-to-cloudflare-workers>Introduction to Cloudflare Workers<a hidden class=anchor aria-hidden=true href=#introduction-to-cloudflare-workers>#</a></h2><p>Cloudflare Workers represent a paradigm shift in how we build and deploy applications on the web. Unlike traditional server-based applications, Cloudflare Workers run on Cloudflare&rsquo;s edge network, meaning they execute closer to your users and provide impressive performance benefits.</p><p>Key advantages of Cloudflare Workers include:</p><ul><li><strong>Edge Execution</strong>: Code runs on Cloudflare&rsquo;s global network, reducing latency</li><li><strong>Serverless Architecture</strong>: No servers to manage or scale</li><li><strong>Cost-Effective</strong>: Pay only for what you use with generous free tier</li><li><strong>JavaScript/TypeScript Native</strong>: Write in familiar languages</li><li><strong>Powerful API Access</strong>: Built-in fetch, KV storage, and more</li></ul><p>In this series, I&rsquo;ll walk through how I built a Cloudflare Worker that collects news articles from Nation Africa (<a href=https://nation.africa>https://nation.africa</a>) for personal use, and how you might adapt this approach for other sites.</p><h2 id=project-overview-and-goals>Project Overview and Goals<a hidden class=anchor aria-hidden=true href=#project-overview-and-goals>#</a></h2><p>The goal of this project was to create a reliable way to fetch recent news headlines from Nation Africa, a popular news source in Kenya. I wanted to:</p><ol><li>Retrieve the latest news headlines and their URLs</li><li>Structure the data in a clean JSON format for downstream consumption</li><li>Run the collection on a schedule (every 12 hours)</li><li>Handle authentication and maintain session cookies properly</li><li>Build a robust solution that can adapt to site changes</li></ol><p>This type of edge-deployed microservice is perfect for data collection tasks that don&rsquo;t require heavy processing but benefit from reliability and scheduling.</p><h2 id=initial-setup-and-environment-configuration>Initial Setup and Environment Configuration<a hidden class=anchor aria-hidden=true href=#initial-setup-and-environment-configuration>#</a></h2><p>To get started with Cloudflare Workers, you&rsquo;ll need a Cloudflare account and the Wrangler CLI tool. Here&rsquo;s how I set up the project:</p><h3 id=1-installing-the-required-tools>1. Installing the Required Tools<a hidden class=anchor aria-hidden=true href=#1-installing-the-required-tools>#</a></h3><p>First, ensure you have Node.js and npm installed, then set up the project:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Install Wrangler CLI globally</span>
</span></span><span style=display:flex><span>npm install -g wrangler
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Create a new TypeScript Cloudflare Worker project</span>
</span></span><span style=display:flex><span>npx create-cloudflare nation-worker-ts
</span></span><span style=display:flex><span>cd nation-worker-ts
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Login to Cloudflare</span>
</span></span><span style=display:flex><span>wrangler login
</span></span></code></pre></div><h3 id=2-project-structure>2. Project Structure<a hidden class=anchor aria-hidden=true href=#2-project-structure>#</a></h3><p>The project structure created by the CLI looks like this:</p><pre tabindex=0><code>nation-worker-ts/
├── src/
│   └── index.ts       # Main worker code
├── .wrangler/
├── node_modules/
├── package.json
├── package-lock.json
├── tsconfig.json
└── wrangler.jsonc     # Worker configuration
</code></pre><h3 id=3-configuring-wranglerjsonc>3. Configuring wrangler.jsonc<a hidden class=anchor aria-hidden=true href=#3-configuring-wranglerjsonc>#</a></h3><p>The <code>wrangler.jsonc</code> file is where we define the Worker&rsquo;s configuration. Here&rsquo;s my basic configuration:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;nation-worker-ts&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;main&#34;</span>: <span style=color:#e6db74>&#34;src/index.ts&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;compatibility_date&#34;</span>: <span style=color:#e6db74>&#34;2025-04-04&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;triggers&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;crons&#34;</span>: [<span style=color:#e6db74>&#34;0 */12 * * *&#34;</span>]  <span style=color:#75715e>// Run every 12 hours
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;kv_namespaces&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;binding&#34;</span>: <span style=color:#e6db74>&#34;KV&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;your-kv-namespace-id&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;preview_id&#34;</span>: <span style=color:#e6db74>&#34;your-preview-kv-namespace-id&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=4-setting-up-environment-variables>4. Setting Up Environment Variables<a hidden class=anchor aria-hidden=true href=#4-setting-up-environment-variables>#</a></h3><p>For our worker to function, we need to define a few environment variables. I&rsquo;ve configured these in the <code>wrangler.jsonc</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;vars&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;ADMIN_KEY&#34;</span>: <span style=color:#e6db74>&#34;your-admin-key&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This ADMIN_KEY will be used for authentication when refreshing cookies through the API.</p><h3 id=5-setting-up-kv-storage>5. Setting Up KV Storage<a hidden class=anchor aria-hidden=true href=#5-setting-up-kv-storage>#</a></h3><p>Cloudflare Workers KV is a global, low-latency key-value data store that we&rsquo;ll use to store our session cookies. To create a KV namespace:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Create KV namespace </span>
</span></span><span style=display:flex><span>wrangler kv:namespace create <span style=color:#e6db74>&#34;KV&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># This will output IDs to add to your wrangler.jsonc file</span>
</span></span></code></pre></div><h2 id=basic-worker-structure>Basic Worker Structure<a hidden class=anchor aria-hidden=true href=#basic-worker-structure>#</a></h2><p>The base structure of our Cloudflare Worker includes two main entry points:</p><ol><li><strong>HTTP Requests</strong> - The <code>fetch</code> handler processes incoming HTTP requests</li><li><strong>Scheduled Execution</strong> - The <code>scheduled</code> handler runs on our defined cron schedule</li></ol><p>Here&rsquo;s a simplified version of our initial worker code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Env</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>KV</span>: <span style=color:#66d9ef>KVNamespace</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ADMIN_KEY?</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Handle HTTP requests
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#a6e22e>request</span>: <span style=color:#66d9ef>Request</span>, <span style=color:#a6e22e>env</span>: <span style=color:#66d9ef>Env</span>, <span style=color:#a6e22e>ctx</span>: <span style=color:#66d9ef>ExecutionContext</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>Response</span>&gt; {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Request handling code here
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Response</span>(<span style=color:#e6db74>&#34;Hello World&#34;</span>);
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Handle scheduled events (cron)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>scheduled</span>(<span style=color:#a6e22e>event</span>: <span style=color:#66d9ef>ScheduledEvent</span>, <span style=color:#a6e22e>env</span>: <span style=color:#66d9ef>Env</span>, <span style=color:#a6e22e>ctx</span>: <span style=color:#66d9ef>ExecutionContext</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>void</span>&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Running scheduled task&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Scheduled task code here
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h2 id=next-steps>Next Steps<a hidden class=anchor aria-hidden=true href=#next-steps>#</a></h2><p>In <a href=/posts/running-local-cloudflare-workers-news-part2>Part 2</a>, we&rsquo;ll dive into the core implementation details:</p><ul><li>How to manage session cookies for authenticated requests</li><li>Techniques for fetching and parsing news articles</li><li>Implementing error handling and debugging features</li></ul><p>By the end of this series, you&rsquo;ll have a fully functional Cloudflare Worker that can reliably collect news articles and deliver them as structured JSON data.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.guyfromtheke.com/tags/cloudflare/>Cloudflare</a></li><li><a href=https://www.guyfromtheke.com/tags/workers/>Workers</a></li><li><a href=https://www.guyfromtheke.com/tags/web-scraping/>Web Scraping</a></li><li><a href=https://www.guyfromtheke.com/tags/typescript/>Typescript</a></li><li><a href=https://www.guyfromtheke.com/tags/serverless/>Serverless</a></li></ul><nav class=paginav><a class=prev href=https://www.guyfromtheke.com/posts/running-local-cloudflare-workers-news-part2/><span class=title>« Prev</span><br><span>Running Local Cloudflare Workers to Gather News Information - Part 2</span>
</a><a class=next href=https://www.guyfromtheke.com/posts/managing-proxmox-containers-with-terraform/><span class=title>Next »</span><br><span>Managing Proxmox Containers with Terraform</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Running Local Cloudflare Workers to Gather News Information - Part 1 on x" href="https://x.com/intent/tweet/?text=Running%20Local%20Cloudflare%20Workers%20to%20Gather%20News%20Information%20-%20Part%201&amp;url=https%3a%2f%2fwww.guyfromtheke.com%2fposts%2frunning-local-cloudflare-workers-news-part1%2f&amp;hashtags=cloudflare%2cworkers%2cwebscraping%2ctypescript%2cserverless"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Running Local Cloudflare Workers to Gather News Information - Part 1 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.guyfromtheke.com%2fposts%2frunning-local-cloudflare-workers-news-part1%2f&amp;title=Running%20Local%20Cloudflare%20Workers%20to%20Gather%20News%20Information%20-%20Part%201&amp;summary=Running%20Local%20Cloudflare%20Workers%20to%20Gather%20News%20Information%20-%20Part%201&amp;source=https%3a%2f%2fwww.guyfromtheke.com%2fposts%2frunning-local-cloudflare-workers-news-part1%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Running Local Cloudflare Workers to Gather News Information - Part 1 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.guyfromtheke.com%2fposts%2frunning-local-cloudflare-workers-news-part1%2f&title=Running%20Local%20Cloudflare%20Workers%20to%20Gather%20News%20Information%20-%20Part%201"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Running Local Cloudflare Workers to Gather News Information - Part 1 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.guyfromtheke.com%2fposts%2frunning-local-cloudflare-workers-news-part1%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Running Local Cloudflare Workers to Gather News Information - Part 1 on whatsapp" href="https://api.whatsapp.com/send?text=Running%20Local%20Cloudflare%20Workers%20to%20Gather%20News%20Information%20-%20Part%201%20-%20https%3a%2f%2fwww.guyfromtheke.com%2fposts%2frunning-local-cloudflare-workers-news-part1%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Running Local Cloudflare Workers to Gather News Information - Part 1 on telegram" href="https://telegram.me/share/url?text=Running%20Local%20Cloudflare%20Workers%20to%20Gather%20News%20Information%20-%20Part%201&amp;url=https%3a%2f%2fwww.guyfromtheke.com%2fposts%2frunning-local-cloudflare-workers-news-part1%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Running Local Cloudflare Workers to Gather News Information - Part 1 on ycombinator" href="https://news.ycombinator.com/submitlink?t=Running%20Local%20Cloudflare%20Workers%20to%20Gather%20News%20Information%20-%20Part%201&u=https%3a%2f%2fwww.guyfromtheke.com%2fposts%2frunning-local-cloudflare-workers-news-part1%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><div class=comments><script src=https://utteranc.es/client.js repo=guyfromtheke/guyfromtheke issue-term=pathname label=comment theme=preferred-color-scheme crossorigin=anonymous async></script></div></article></main><footer class=footer><span>© <a href=https://github.com/adityatelange/hugo-PaperMod/graphs/contributors>PaperMod Contributors</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>